# 第 4 章 《对象的生命周期》 编程练习题之自答

## 4.1

**题**：创建一个struct TimerClass。在它的构造函数中，将当前时间记录在一个叫作timestamp的字段中（与POSIX函数gettimeofday进行比较）。

**解**：



## 4.2

 在TimerClass的析构函数中，记录当前时间并减去构造时的时间。这个时间大致就是定时器的时长。打印这个值。

## 4.3

为TimerClass实现一个复制构造函数和一个复制赋值运算符。这些复制操作应该共享timestamp。

## 4.4

为TimerClass实现一个移动构造函数和一个移动赋值运算符。当TimerClass被销毁时，处于移出状态的TimerClass不应该向控制台打印任何输出。

## 4.5

扩充TimerClass构造函数，让它接受一个额外的const char*name参数。当TimerClass被销毁并打印到stdout时，在输出中包含定时器的名称。

## 4.6

对TimerClass进行实验。创建一个定时器，并把它移到一个执行一些计算密集型操作（例如，在循环中进行大量的数学运算）的函数中。验证定时器的行为是否符合预期。

## 4.7

识别SimpleString类（见代码清单4-38）中的每个方法。试着不参考书本从头开始重新实现它